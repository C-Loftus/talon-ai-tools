---
import { Code } from '@astrojs/starlight/components';
//import Code from "astro/components/Code.astro"; Don't use this, use the starlight component specifically

const { data } = Astro.props; // Receive the data as a prop
const response = await fetch(data);
const fetchedData = await response.text();

// Function to extract the basename from a URL
const getBasename = (url: string | URL) => {
  const urlObj = new URL(url);
  return urlObj.pathname.split('/').filter(Boolean).pop() || 'Index';
};

const basename = getBasename(data);

---


<Code code={fetchedData} lang="yml" title={basename}/>
